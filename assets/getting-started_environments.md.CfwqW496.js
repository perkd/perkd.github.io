import{_ as i,c as a,o as t,a2 as e}from"./chunks/framework.3kflc2j5.js";const c=JSON.parse('{"title":"Environments","description":"","frontmatter":{},"headers":[],"relativePath":"getting-started/environments.md","filePath":"getting-started/environments.md"}'),n={name:"getting-started/environments.md"};function l(p,s,r,o,h,d){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="environments" tabindex="-1">Environments <a class="header-anchor" href="#environments" aria-label="Permalink to &quot;Environments&quot;">​</a></h1><p>Perkd provides separate test and production environments for safe development and testing.</p><h2 id="environment-overview" tabindex="-1">Environment Overview <a class="header-anchor" href="#environment-overview" aria-label="Permalink to &quot;Environment Overview&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Environment</th><th>Base URL</th><th>App</th><th>Purpose</th></tr></thead><tbody><tr><td><strong>Test</strong></td><td><code>https://api.perkd.io/test</code></td><td>Private beta app (link from Perkd)</td><td>Development &amp; Testing</td></tr><tr><td><strong>Production</strong></td><td><code>https://api.perkd.io/prod</code></td><td><a href="https://perkd.me/app" target="_blank" rel="noreferrer">App Store</a> / <a href="https://perkd.me/app" target="_blank" rel="noreferrer">Google Play</a></td><td>Live operations</td></tr></tbody></table><h2 id="test-environment" tabindex="-1">Test Environment <a class="header-anchor" href="#test-environment" aria-label="Permalink to &quot;Test Environment&quot;">​</a></h2><h3 id="purpose" tabindex="-1">Purpose <a class="header-anchor" href="#purpose" aria-label="Permalink to &quot;Purpose&quot;">​</a></h3><ul><li>Develop and test integrations safely</li><li>Use test digital cards without real money</li><li>Debug callback handling</li><li>Validate QR code generation</li></ul><h3 id="characteristics" tabindex="-1">Characteristics <a class="header-anchor" href="#characteristics" aria-label="Permalink to &quot;Characteristics&quot;">​</a></h3><ul><li>Isolated from production data</li><li>Test API keys (prefix: <code>pk_test_</code>)</li><li>Test digital cards in beta app</li><li>No real financial transactions</li><li>Sandbox payment processing</li></ul><h3 id="getting-access" tabindex="-1">Getting Access <a class="header-anchor" href="#getting-access" aria-label="Permalink to &quot;Getting Access&quot;">​</a></h3><ol><li><strong>API Key</strong> - Request from Perkd (format: <code>pk_test_...</code>)</li><li><strong>Beta App</strong> - Install using private link provided by Perkd</li><li><strong>Test Card</strong> - Receive digital test card in the app</li></ol><h3 id="example-request" tabindex="-1">Example Request <a class="header-anchor" href="#example-request" aria-label="Permalink to &quot;Example Request&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://api.perkd.io/test/Actions/vending&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;x-api-key: pk_test_abc123...&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;action&quot;: &quot;checkin&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;machineId&quot;: &quot;test-machine-001&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><h2 id="production-environment" tabindex="-1">Production Environment <a class="header-anchor" href="#production-environment" aria-label="Permalink to &quot;Production Environment&quot;">​</a></h2><h3 id="purpose-1" tabindex="-1">Purpose <a class="header-anchor" href="#purpose-1" aria-label="Permalink to &quot;Purpose&quot;">​</a></h3><ul><li>Live customer transactions</li><li>Real digital cards and payments</li><li>Production monitoring and logging</li></ul><h3 id="characteristics-1" tabindex="-1">Characteristics <a class="header-anchor" href="#characteristics-1" aria-label="Permalink to &quot;Characteristics&quot;">​</a></h3><ul><li>Real customer data</li><li>Production API keys (prefix: <code>pk_live_</code>)</li><li>Public Perkd app from app stores</li><li>Real financial transactions</li><li>Full payment processing</li></ul><h3 id="going-live-checklist" tabindex="-1">Going Live Checklist <a class="header-anchor" href="#going-live-checklist" aria-label="Permalink to &quot;Going Live Checklist&quot;">​</a></h3><p>Before switching to production:</p><ul><li>[ ] Complete testing in test environment</li><li>[ ] Verify callback endpoint is production-ready</li><li>[ ] Obtain production API key from Perkd</li><li>[ ] Update machine IPs for production whitelist</li><li>[ ] Configure production callback URLs</li><li>[ ] Test with real digital cards (small amounts)</li><li>[ ] Set up monitoring and alerts</li><li>[ ] Prepare rollback plan</li></ul><h3 id="example-request-1" tabindex="-1">Example Request <a class="header-anchor" href="#example-request-1" aria-label="Permalink to &quot;Example Request&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://api.perkd.io/prod/Actions/vending&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;x-api-key: pk_live_xyz789...&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;action&quot;: &quot;order&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;machineId&quot;: &quot;vm-hq-floor1-a&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;items&quot;: [...]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><h3 id="use-environment-variables" tabindex="-1">Use Environment Variables <a class="header-anchor" href="#use-environment-variables" aria-label="Permalink to &quot;Use Environment Variables&quot;">​</a></h3><p>Never hardcode API keys or URLs. Use environment configuration:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-qcojd" id="tab-gZwuk2j" checked><label data-title="Node.js" for="tab-gZwuk2j">Node.js</label><input type="radio" name="group-qcojd" id="tab-VY15tOT"><label data-title="Python" for="tab-VY15tOT">Python</label><input type="radio" name="group-qcojd" id="tab-6kk0Jt6"><label data-title="PHP" for="tab-6kk0Jt6">PHP</label></div><div class="blocks"><div class="language-javascript vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PERKD_API_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PERKD_API_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PERKD_BASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PERKD_BASE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example: .env file</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// PERKD_API_KEY=pk_test_abc123...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// PERKD_BASE_URL=https://api.perkd.io/test</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PERKD_API_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.getenv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PERKD_API_KEY&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PERKD_BASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.getenv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PERKD_BASE_URL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Example: .env file</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PERKD_API_KEY=pk_test_abc123...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PERKD_BASE_URL=https://api.perkd.io/test</span></span></code></pre></div><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$perkdApiKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> getenv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PERKD_API_KEY&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$perkdBaseUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> getenv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PERKD_BASE_URL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example: .env file</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// PERKD_API_KEY=pk_test_abc123...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// PERKD_BASE_URL=https://api.perkd.io/test</span></span></code></pre></div></div></div><h3 id="separate-configurations" tabindex="-1">Separate Configurations <a class="header-anchor" href="#separate-configurations" aria-label="Permalink to &quot;Separate Configurations&quot;">​</a></h3><p>Maintain separate config files for each environment:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>config/</span></span>
<span class="line"><span>  ├── test.json</span></span>
<span class="line"><span>  └── production.json</span></span></code></pre></div><h3 id="api-key-management" tabindex="-1">API Key Management <a class="header-anchor" href="#api-key-management" aria-label="Permalink to &quot;API Key Management&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Do ✅</th><th>Don&#39;t ❌</th></tr></thead><tbody><tr><td>Store in environment variables</td><td>Hardcode in source code</td></tr><tr><td>Use different keys per environment</td><td>Share keys between environments</td></tr><tr><td>Rotate keys periodically</td><td>Commit keys to version control</td></tr><tr><td>Restrict key access</td><td>Expose keys in client-side code</td></tr></tbody></table><h3 id="testing-strategy" tabindex="-1">Testing Strategy <a class="header-anchor" href="#testing-strategy" aria-label="Permalink to &quot;Testing Strategy&quot;">​</a></h3><ol><li><strong>Local Development</strong> → Test environment</li><li><strong>Staging</strong> → Test environment</li><li><strong>Production Preview</strong> → Test environment with production-like data</li><li><strong>Live</strong> → Production environment</li></ol><h2 id="switching-environments" tabindex="-1">Switching Environments <a class="header-anchor" href="#switching-environments" aria-label="Permalink to &quot;Switching Environments&quot;">​</a></h2><p>To switch from test to production:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">- const API_KEY = &#39;pk_test_abc123...&#39;;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">- const BASE_URL = &#39;https://api.perkd.io/test&#39;;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+ const API_KEY = &#39;pk_live_xyz789...&#39;;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+ const BASE_URL = &#39;https://api.perkd.io/prod&#39;;</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">Production Safety</p><p>Always test thoroughly in the test environment before deploying to production. Production errors affect real customers and real money.</p></div><h2 id="support" tabindex="-1">Support <a class="header-anchor" href="#support" aria-label="Permalink to &quot;Support&quot;">​</a></h2><ul><li><strong>Test Environment Issues</strong> - Contact Perkd support team</li><li><strong>Production Incidents</strong> - Use priority support channel</li><li><strong>API Key Rotation</strong> - Request through Perkd account manager</li></ul><p><a href="/getting-started/authentication.html">Continue to Authentication →</a></p>`,41)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
